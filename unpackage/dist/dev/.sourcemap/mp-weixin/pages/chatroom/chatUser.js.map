{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Jerry_前端代码/WeMall/WeMall/pages/chatroom/chatUser.vue?ee13","webpack:///E:/Jerry_前端代码/WeMall/WeMall/pages/chatroom/chatUser.vue?c20d","webpack:///E:/Jerry_前端代码/WeMall/WeMall/pages/chatroom/chatUser.vue?1407","webpack:///E:/Jerry_前端代码/WeMall/WeMall/pages/chatroom/chatUser.vue?986f","uni-app:///pages/chatroom/chatUser.vue","webpack:///E:/Jerry_前端代码/WeMall/WeMall/pages/chatroom/chatUser.vue?991d","webpack:///E:/Jerry_前端代码/WeMall/WeMall/pages/chatroom/chatUser.vue?6f4d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,sG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AAC0N;AAC1N,gBAAgB,iOAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA22B,CAAgB,s3BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkC/3B;;AAEA,e;AACA;;AAEA,YAFA;AAGA,MAHA,kBAGA;AACA;AACA,kBADA;AAEA,eAFA;AAGA,cAHA;AAIA,uBAJA;AAKA,eALA;AAMA,kBANA;AAOA,cAPA;AAQA,kBARA;AASA,iBATA;;AAWA,GAfA;AAgBA,QAhBA,kBAgBA,OAhBA,EAgBA;AACA;AACA;AACA,GAnBA;AAoBA;AACA,QADA,kBACA;AACA;AACA;AACA,wBADA;;AAGA,OAJA,MAIA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA,6BAFA;AAGA,2BAHA;;AAKA,yDATA,CASA;AACA;AACA,oCADA;AAEA,2BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA6BA,iBA7BA,yBA6BA,UA7BA,EA6BA,OA7BA,EA6BA,IA7BA,EA6BA;AACA;AACA;AACA;AACA;AACA,gGADA;AAEA,uCAFA,GAEA,IAFA,GAEA,WAFA;AAGA,qBAHA;AAIA,8CAJA;AAKA,kHALA;AAMA,8HANA;AAOA,qBAPA;AAQA,qBARA;AASA,iBATA;AAUA,OAXA,MAWA;AACA;AACA,0EADA;AAEA,kHAFA;AAGA,8HAHA;AAIA,qBAJA;AAKA,qBALA;AAMA,8FANA;AAOA,wCAPA,GAOA,IAPA,GAOA,WAPA;AAQA,qBARA;AASA,iBATA;AAUA;AACA;AACA;AACA,KAzDA;AA0DA,QA1DA,kBA0DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDADA,EACA;AACA;;AAEA,WAJA;AAKA,iBALA,mBAKA,GALA,EAKA;AACA;AACA,WAPA;AAQA,cARA,gBAQA,GARA,EAQA;AACA;AACA,WAVA;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,cADA;AAEA;AACA;AACA;AACA,sBADA,IADA,CAEA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAjBA;AAkBA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,SAFA;AAGA;AACA,KA5HA,EApBA,E;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAA0mD,CAAgB,qjDAAG,EAAC,C;;;;;;;;;;;ACA9nD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/chatroom/chatUser.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chatroom/chatUser.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chatUser.vue?vue&type=template&id=459586f6&\"\nvar renderjs\nimport script from \"./chatUser.vue?vue&type=script&lang=js&\"\nexport * from \"./chatUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatUser.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chatroom/chatUser.vue\"\nexport default component.exports","export * from \"-!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatUser.vue?vue&type=template&id=459586f6&\"","var components\ntry {\n  components = {\n    uNoticeBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-notice-bar/u-notice-bar\" */ \"@/uni_modules/uview-ui/components/u-notice-bar/u-notice-bar.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatUser.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"guangbo\">\r\n\t\t\t<u-notice-bar :text=\"text1\" bgColor=\"#fd842d\" color=\"#FFFFFF\"></u-notice-bar>\r\n\t\t</view>\r\n\t\t<view class=\"content\">\r\n\r\n\r\n\t\t</view>\r\n\t\t<view class=\"chatRoom\">\r\n\t\t\t<view class=\"u-demo-block__content\" style=\"margin-top: 15px;\">\r\n\t\t\t\t<!-- 注意：由于兼容性差异，如果需要使用前后插槽，nvue下需使用u--input，非nvue下需使用u-input -->\r\n\t\t\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t\t\t<u-input placeholder=\"请输入内容\" v-model=\"text\">\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t\t\t\t<u--input placeholder=\"请输入内容\">\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t<template slot=\"suffix\">\r\n\t\t\t\t\t\t\t<!-- <u-code ref=\"uCode\" @change=\"codeChange\" seconds=\"20\" ></u-code> -->\r\n\t\t\t\t\t\t\t<u-button type=\"success\" size=\"mini\" @click=\"send()\">发送</u-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t\t\t</u-input>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t\t\t</u--input>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// import request from \"@/utils/request\";\r\n\r\n\tvar SocketTask;\r\n\texport default {\r\n\r\n\t\tname: \"Im\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuserText: \"\",\r\n\t\t\t\ttext1: \"\",\r\n\t\t\t\tuser: {},\r\n\t\t\t\tisCollapse: false,\r\n\t\t\t\tusers: [],\r\n\t\t\t\tchatUser: '',\r\n\t\t\t\ttext: \"\",\r\n\t\t\t\tmessages: [],\r\n\t\t\t\tcontent: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.userText = options.username;\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsend() {\r\n\t\t\t\tif (!this.text) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入内容\"\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof(WebSocket) == \"undefined\") {\r\n\t\t\t\t\t\tconsole.log(\"您的浏览器不支持WebSocket\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"您的浏览器支持WebSocket\");\r\n\t\t\t\t\t\t// 组装待发送的消息 json\r\n\t\t\t\t\t\t// {\"from\": \"zhang\", \"to\": \"admin\", \"text\": \"聊天文本\"}\r\n\t\t\t\t\t\tlet message = {\r\n\t\t\t\t\t\t\tfrom: this.user.username,\r\n\t\t\t\t\t\t\tto: this.userText,\r\n\t\t\t\t\t\t\ttext: this.text\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.sendSocketMessage(JSON.stringify(message)); // 将组装好的json发送给服务端，由服务端进行转发\r\n\t\t\t\t\t\tthis.messages.push({\r\n\t\t\t\t\t\t\tuser: this.user.username,\r\n\t\t\t\t\t\t\ttext: this.text\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 构建消息内容，本人消息\r\n\t\t\t\t\t\tthis.createContent(null, this.user.username, this.text)\r\n\t\t\t\t\t\tthis.text = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreateContent(remoteUser, nowUser, text) { // 这个方法是用来将 json的聊天消息数据转换成 html的。\r\n\t\t\t\tlet html\r\n\t\t\t\t// 当前用户消息\r\n\t\t\t\tif (nowUser) { // nowUser 表示是否显示当前用户发送的聊天消息，绿色气泡\r\n\t\t\t\t\thtml = \"<view class=\\\"el-row\\\" style=\\\"padding: 5px 0\\\">\\n\" +\r\n\t\t\t\t\t\t\"  <view class=\\\"el-col el-col-22\\\" style=\\\"text-align: right; padding-right: 10px\\\">\\n\" +\r\n\t\t\t\t\t\t\"    <view class=\\\"tip left\\\">\" + text + \"</view>\\n\" +\r\n\t\t\t\t\t\t\"  </view>\\n\" +\r\n\t\t\t\t\t\t\"  <view class=\\\"el-col el-col-2\\\">\\n\" +\r\n\t\t\t\t\t\t\"  <span class=\\\"el-avatar el-avatar--circle\\\" style=\\\"height: 40px; width: 40px; line-height: 40px;\\\">\\n\" +\r\n\t\t\t\t\t\t\"    <img src=\\\"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\\\" style=\\\"object-fit: cover;\\\">\\n\" +\r\n\t\t\t\t\t\t\"  </span>\\n\" +\r\n\t\t\t\t\t\t\"  </view>\\n\" +\r\n\t\t\t\t\t\t\"</view>\";\r\n\t\t\t\t} else if (remoteUser) { // remoteUser表示远程用户聊天消息，蓝色的气泡\r\n\t\t\t\t\thtml = \"<view class=\\\"el-row\\\" style=\\\"padding: 5px 0\\\">\\n\" +\r\n\t\t\t\t\t\t\"  <view class=\\\"el-col el-col-2\\\" style=\\\"text-align: right\\\">\\n\" +\r\n\t\t\t\t\t\t\"  <span class=\\\"el-avatar el-avatar--circle\\\" style=\\\"height: 40px; width: 40px; line-height: 40px;\\\">\\n\" +\r\n\t\t\t\t\t\t\"    <img src=\\\"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\\\" style=\\\"object-fit: cover;\\\">\\n\" +\r\n\t\t\t\t\t\t\"  </span>\\n\" +\r\n\t\t\t\t\t\t\"  </view>\\n\" +\r\n\t\t\t\t\t\t\"  <view class=\\\"el-col el-col-22\\\" style=\\\"text-align: left; padding-left: 10px\\\">\\n\" +\r\n\t\t\t\t\t\t\"    <view class=\\\"tip right\\\">\" + text + \"</view>\\n\" +\r\n\t\t\t\t\t\t\"  </view>\\n\" +\r\n\t\t\t\t\t\t\"</view>\";\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(html)\r\n\t\t\t\tthis.content += html;\r\n\t\t\t},\r\n\t\t\tinit() {\r\n\t\t\t\t// this.user = sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {}\r\n\r\n\t\t\t\t// let username = this.user.username;\r\n\t\t\t\tlet username = uni.getStorageSync(\"username\");\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.text1 = \"用户\" + username + \"已进入聊天\"\r\n\t\t\t\tif (typeof(WebSocket) == \"undefined\") {\r\n\t\t\t\t\tconsole.log(\"您的浏览器不支持WebSocket\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"您的浏览器支持WebSocket\");\r\n\t\t\t\t\tlet socketUrl = \"ws://localhost:8080/imserver/\" + username;\r\n\t\t\t\t\tif (SocketTask != null) {\r\n\t\t\t\t\t\tSocketTask.close();\r\n\t\t\t\t\t\tSocketTask = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 开启一个websocket服务\r\n\t\t\t\t\tconsole.log(socketUrl)\r\n\t\t\t\t\tuni.connectSocket({\r\n\t\t\t\t\t\turl: \"ws://localhost:8080/imserver/\" + username, //仅为示例，并非真实接口地址。\r\n\t\t\t\t\t\tcomplete: () => {\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(SocketTask)\r\n\t\t\t\t\t// SocketTask.onOpen(function(res){\r\n\t\t\t\t\t// \tconsole.log(\"websockrt已打开\")\r\n\t\t\t\t\t// });\r\n\t\t\t\t\tuni.onSocketOpen(function(res) {\r\n\t\t\t\t\t\tconsole.log(\"websockrt已打开\")\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//  浏览器端收消息，获得从服务端发送过来的文本消息\r\n\t\t\t\t\tuni.onSocketMessage(function(msg) {\r\n\t\t\t\t\t\tconsole.log(\"收到数据====\" + msg.data)\r\n\t\t\t\t\t\tlet data = JSON.parse(msg\r\n\t\t\t\t\t\t\t.data\r\n\t\t\t\t\t\t) // 对收到的json数据进行解析， 类似这样的： {\"users\": [{\"username\": \"zhang\"},{ \"username\": \"admin\"}]}\r\n\t\t\t\t\t\tif (data.users) { // 获取在线人员信息\r\n\t\t\t\t\t\t\t_this.users = data.users.filter(user => user.username !==\r\n\t\t\t\t\t\t\t\tusername) // 获取当前连接的所有用户信息，并且排除自身，自己不会出现在自己的聊天列表里\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 如果服务器端发送过来的json数据 不包含 users 这个key，那么发送过来的就是聊天文本json数据\r\n\t\t\t\t\t\t\t//  // {\"from\": \"zhang\", \"text\": \"hello\"}\r\n\t\t\t\t\t\t\tif (data.from === _this.chatUser) {\r\n\t\t\t\t\t\t\t\t_this.messages.push(data)\r\n\t\t\t\t\t\t\t\t// 构建消息内容\r\n\t\t\t\t\t\t\t\t_this.createContent(data.from, null, data.text)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//关闭事件\r\n\t\t\t\t\tuni.onSocketClose(function() {\r\n\t\t\t\t\t\tconsole.log(\"websocket已关闭\");\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//发生了错误事件\r\n\t\t\t\t\tuni.onSocketError(function() {\r\n\t\t\t\t\t\tconsole.log(\"websocket发生了错误\");\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t.chatRoom {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\theight: 120rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\n","import mod from \"-!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatUser.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\Compiler\\\\Hbuilderx\\\\HBuilderX.3.2.12.20211029.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatUser.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1649089722234\n      var cssReload = require(\"H:/Compiler/Hbuilderx/HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}